@if (showModal) {
<div id="task-creation-modal"
  class="fixed inset-0 z-50 overflow-y-auto bg-gray-900/50 flex items-center justify-center">
  <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 my-8 transform transition-all scale-100 opacity-100"
    role="dialog" aria-modal="true" aria-labelledby="modal-title">

    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-yellow-50 rounded-t-xl">
      <h3 id="modal-title" class="text-xl font-semibold text-slate-800">
        Créer une Nouvelle Tâche pour le Dossier
      </h3>
      <button type="button" (click)="closeModal()" class="text-gray-400 hover:text-gray-600 transition">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <div class="p-6">
      <form id="task-form" class="space-y-5">

        <div>
          <label for="task_title" class="block text-sm font-medium text-gray-700 mb-1">Titre de la Tâche <span
              class="text-red-500">*</span></label>
          <input type="text" name="task_title" id="task_title" required
            placeholder="Ex: Rédaction des conclusions, Appel du greffe..."
            class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 p-2.5">
        </div>

        <div>
          <label for="task_description" class="block text-sm font-medium text-gray-700 mb-1">Détails (Optionnel)</label>
          <textarea id="task_description" name="task_description" rows="2"
            placeholder="Informations supplémentaires ou pièces à consulter..."
            class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 p-2.5">
                    </textarea>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label for="task_assignee" class="block text-sm font-medium text-gray-700 mb-1">Assigné à <span
                class="text-red-500">*</span></label>
            <select id="task_assignee" name="task_assignee" required
              class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 p-2.5">
              <option>Maître J. Dupont</option>
              <option>Maître M. Martin</option>
              <option>Assistant J. S.</option>
            </select>
          </div>
          <div>
            <label for="task_priority" class="block text-sm font-medium text-gray-700 mb-1">Priorité</label>
            <select id="task_priority" name="task_priority"
              class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 p-2.5">
              <option value="normal" class="text-cyan-600">Normale (Cyan)</option>
              <option value="haute" class="text-yellow-600">Haute (Jaune)</option>
              <option value="critique" class="text-red-600">Critique (Rouge)</option>
            </select>
          </div>
        </div>

        <div>
          <label for="task_due_date" class="block text-sm font-medium text-gray-700 mb-1">Date d'Échéance
            (Facultatif)</label>
          <input type="date" name="task_due_date" id="task_due_date"
            class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 p-2.5">
        </div>

      </form>
    </div>

    <div class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3 rounded-b-xl">
      <button type="button" (click)="closeModal()"
        class="px-5 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition duration-150">
        Annuler
      </button>
      <button type="submit" form="task-form"
        class="px-5 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-yellow-600 shadow-md hover:bg-yellow-700 transition duration-150">
        Créer la Tâche
      </button>
    </div>

  </div>
</div>

}
