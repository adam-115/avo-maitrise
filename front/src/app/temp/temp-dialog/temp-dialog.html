@if (showModal) {
<div id="time-entry-modal" class="fixed inset-0 z-50 overflow-y-auto bg-gray-900/50 flex items-center justify-center ">

  <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 my-8 transform transition-all scale-100 opacity-100"
    role="dialog" aria-modal="true" aria-labelledby="modal-title">

    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-cyan-50 rounded-t-xl">
      <h3 id="modal-title" class="text-xl font-semibold text-slate-800">
        Enregistrer le Temps pour Dossier PEN-2024-045
      </h3>
      <button type="button" (click)="closeModal()" class="text-gray-400 hover:text-gray-600 transition">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <div class="p-6">
      <form id="time-entry-form" class="space-y-6">

        <div>
          <label for="attorney_name" class="block text-sm font-medium text-gray-700 mb-1">Avocat/Collaborateur <span
              class="text-red-500">*</span></label>
          <select id="attorney_name" name="attorney_name" required
            class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2.5 bg-gray-50">
            <option selected>Maître J. Dupont (Taux : 250 €/h)</option>
            <option>Maître M. Martin (Taux : 220 €/h)</option>
            <option>Ass. Juridique S. (Taux : 100 €/h)</option>
          </select>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label for="entry_date" class="block text-sm font-medium text-gray-700 mb-1">Date de l'Activité <span
                class="text-red-500">*</span></label>
            <input type="date" name="entry_date" id="entry_date" required
              class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2.5">
          </div>
          <div>
            <label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Durée (ex: 1h30, 0h45) <span
                class="text-red-500">*</span></label>
            <input type="text" name="duration" id="duration" required placeholder="Ex: 1h30 ou 1.5"
              class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2.5">
          </div>
        </div>

        <div>
          <label for="activity_type" class="block text-sm font-medium text-gray-700 mb-1">Catégorie d'Activité <span
              class="text-red-500">*</span></label>
          <select id="activity_type" name="activity_type" required
            class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2.5">
            <option>Recherche et Analyse Juridique</option>
            <option>Rédaction d'Actes/Conclusions</option>
            <option>Plaidoirie/Audience</option>
            <option>Communication Client/Adverse</option>
            <option>Déplacement</option>
          </select>
        </div>

        <div>
          <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description Détaillée (Visible
            sur la Facture) <span class="text-red-500">*</span></label>
          <textarea id="description" name="description" rows="3" required
            placeholder="Détaillez clairement le travail effectué pour le client..."
            class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2.5">
                    </textarea>
        </div>

        <div class="pt-4 text-center border-t border-dashed border-gray-300">
          <p class="text-sm font-medium text-gray-700">Coût estimé (basé sur 1h30 à 250 €/h) :</p>
          <p class="text-2xl font-bold text-red-600 mt-1">375,00 €</p>
        </div>
      </form>
    </div>

    <div class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3 rounded-b-xl">
      <button type="button" (click)="closeModal()"
        class="px-5 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition duration-150">
        Annuler
      </button>
      <button type="submit" form="time-entry-form"
        class="px-5 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-yellow-600 shadow-md hover:bg-yellow-700 transition duration-150">
        Enregistrer le Temps
      </button>
    </div>

  </div>
</div>
}
